const DJM=(()=>{const e={},s={},n={},t={};let o="",r="",d="",i=!0,a=!1,l=!1,p=!1;const c=!(!chrome||!chrome.extension),u=!!/^https?/.test(window.location.href),v=async(e="",s)=>{u?chrome.runtime.sendMessage({DJM_LoadJSONFileAsync:!0,jsonFileFullPath:e},e=>{d=e,s(e)}):(r=e,o=r.substr(r.lastIndexOf("/")+1),await fetch(r).then(e=>e.json()).then(e=>{d=e}).catch(e=>console.log(`[DJM] Error loading "${r}": ${e.message}`)).finally(()=>{s&&"function"==typeof s&&s(d)}))},f=({isRefreshable:e=!0,appendResponses:s=!1,replaceOnWorker:n=!1,mergeOnWorker:t=!1})=>{u?chrome.runtime.sendMessage({DJM_Settings:!0,data:{isRefreshable:e,appendResponses:s,replaceOnWorker:n,mergeOnWorker:t}}):(i=e,a=s,l=n,p=t)},h=(...e)=>{const[s,n]=e;let[,,t]=e,o=s,r=!1;const d=n.merge;if(d){const e=d.length;for(let n=0;n<e;n++){const i=d[n],a=!!+i.active;if((void 0===i.active||a)&&n>t.lastKeyIndex){t.lastKeyIndex=n,o=i.key,r=o===s;break}n===e-1&&(t={},t.lastKeyIndex=-1,t.canUpdateJsonString=!0,t.lastUpdatedKey=void 0)}}return t.swappedKey=o,{nextKey:o,mainKeyManager:t,mainKeyRepeated:r}},R=new Worker(URL.createObjectURL(new Blob([`onmessage = e => postMessage((${h.toString()}).call(this, ...e.data));`],{type:"application/javascript"}))),g=(...e)=>{const[s,n]=e;let t=s[n.onProp];const o=n.replace;if(t&&o){const e=o.length;for(let o=0;o<e;o++){const{here:e,to:r}=n.replace[o];s[n.onProp]=t=t.replace(e,r)}}return s},x=new Worker(URL.createObjectURL(new Blob([`onmessage = e => postMessage((${g.toString()}).call(this, ...e.data));`],{type:"application/javascript"}))),J={_Exclude:(e="")=>{const s=[];return{_AddExclude:(e="",n)=>{s[s.length]={match:e,active:n}},_GetTemplate:()=>({onProp:e,exclude:s})}},_Merge:()=>{const e=[];return{_AddKey:(s="",n)=>{e[e.length]={key:s,active:n}},_GetTemplate:()=>({merge:e})}},_Replace:(e="")=>{const s=[];return{_AddReplace:(e="",n="")=>{s[s.length]={here:e,to:n}},_GetTemplate:()=>({onProp:e,replace:s})}}},m=new Worker(URL.createObjectURL(new Blob([`onmessage=${e=>{let s;const n={};!function(e,n){void 0===e.instance?(e.nestedNodes=[],e.savedInfo={},e.skipToNode={},e.dataAttribs={},e.dataIndex=0,e.retrievedResponseNodeLevel=0,e.retrievedResponseValueNodeLevel=0,s=e):s=e.instance,n({key:e.key,handledKey:e.handledKey,response:e.response,excludeTemplate:e.excludeTemplate,canAppendResponses:e.canAppendResponses})}(e.data,e=>{!function(e,t,o,r,d){let{jsonStringKey:i,reloaded:a,dataAttribs:l,dataIndex:p,retrievedResponseNodeLevel:c,retrievedResponseValueNodeLevel:u}=s;const{nestedNodes:v,jsonFileName:f,jsonStringLoaded:h,savedInfo:R,skipToNode:g}=s;R.allNodesExcluded?(s.savedInfo.allNodesExcluded=void 0,postMessage({type:"recall",swapKey:t,data:s})):n.isExcluded||""!==o?""!==o&&function(s){if(void 0===l||!l["*DJM_canResponse"]||n.isExcluded&&!R.resultSentBefore)return;if(void 0===l.response.length)throw new Error(`["${f}" >> "${e}"]\nAll 'response' nested properties must be enclosed as array.`);void 0===g[s]&&(g[s]={});const t=void 0===g[s][R.responseId];t&&J(s,R.responseId,0,0);const{parentResponseNodeLevel:o,returnedResponseValueNodeLevel:r}=function(e,s){let t,o,r,d;n.allReturnedResponseExcluded=void 0;const i=g[e][R.responseId],a=R.lastResponseParentNode.response.length;for(let l=0;l<a;l++){R.lastResponseParentNode.response[l]["*isResponseLevel"]=!0;const p=R.lastResponseParentNode.response[l][e];if(p){const e=p.length;for(let n=0;n<e;n++)if(!M(p[n],!0).excluded&&(void 0===t&&(t=l),void 0===r&&(r=n),l===i.parentResponseNodeLevel&&n>i.returnedResponseNodeLevel||s&&n>=i.returnedResponseNodeLevel||l>i.parentResponseNodeLevel)){o=l,d=n;break}}if(void 0!==o)break;l===a-1?(o=t,d=r,n.allReturnedResponseExcluded=void 0===o&&void 0===d,n.allReturnedResponseExcluded||(R.lastResponseParentNode.response[o]["*DJM_skipped"]=void 0,R.lastResponseParentNode.response[o][e][d]["*DJM_skipped"]=void 0)):R.lastResponseParentNode.response[l]["*DJM_skipped"]=!0}return{parentResponseNodeLevel:o,returnedResponseValueNodeLevel:d}}(s,t);if(n.allReturnedResponseExcluded||void 0===r)return;J(s,R.responseId,o,r),c=g[s][R.responseId].parentResponseNodeLevel,u=g[s][R.responseId].returnedResponseNodeLevel,l["*DJM_canResponse"]=l["*DJM_skipped"]=void 0,l["*DJM_returnedResponse"]=s,R.lastReturnedResponse=s,R.hasResponded=!0,v[v.length]=l,_(l.response,c,!0,l["*DJM_returnedResponse"])}(o):_(i,0);function x(e,n){l["*DJM_canResponse"]||(l=void 0,R.lastResponseParentNode=void 0),R.resultSentBefore="result"===e,s.excludeTemplate=void 0,s.jsonStringKey=i,s.reloaded=a,s.nestedNodes.length=v.length,s.savedInfo=R,s.skipToNode=g,s.dataAttribs=l,s.dataIndex=p,s.retrievedResponseNodeLevel=c,s.retrievedResponseValueNodeLevel=u,postMessage({type:e,swapKey:n,data:s})}function J(e,s,n,t){g[e][s]={parentResponseNodeLevel:n,returnedResponseNodeLevel:t}}function m(e,s,n){g[e]={sequenceNodeLevel:s,updateOnNextTime:n}}function y(e,s,n=!1){const t=e[s];return{exists:void 0!==t,value:t,parentLength:n?Object.values(e).length:void 0}}function M(e,s=!1){let n=!1,t=!1;if(r){const o=r.onProp,d=r.exclude;if(o&&d){const r=y(e,o);if(n=n||r.exists,!n)return{nodeHasOnProp:n,excluded:t};const i=d.length;for(let n=0;n<i;n++){const{match:o,active:i}=d[n],a=r.value===o,l=!!+i;if(t=a&&void 0===i||a&&l,t){e["*DJM_finished"]=!s;break}}}}return{nodeHasOnProp:n,excluded:!e["*DJM_hasPendingResponse"]&&t}}function _(s,o=0,r,J,D,N){try{if(!h)throw new Error(`["${f}" >> "${e}"]\nJSON file not loaded.`);if(void 0===s)throw new Error(`["${f}" >> "${e}"]\nThere's no data for the specified JSON key.`);p=o,l=s[p];const w=p,q=y(l,"sequence",!0),k=y(l,"response"),I=y(l,"*repeatResponse"),b=y(l,"*required"),O=y(l,"*alternate");let j=l&&void 0!==l["*DJM_shown"];const S=l&&void 0!==l["*DJM_finished"];let L=l&&void 0!==l["*DJM_skipped"];if(!j){if(q.exists){const s=l.sequence.length;if(void 0===s)throw new Error(`["${f}" >> "${e}"]\nAll 'sequence' nested nodes must be enclosed as array.`);if(0===s)throw new Error(`["${f}" >> "${e}"]\nAt least must exist one sequence nested node.`)}else if(k.exists){const s=l.response.length;if(void 0===s)throw new Error(`["${f}" >> "${e}"]\nAll 'response' nested nodes must be enclosed as array.`);if(0===s)throw new Error(`["${f}" >> "${e}"]\nAt least must exist one response value node on 'response' nested node.`)}else{const n=s.length;if(void 0===n)throw new Error(`["${f}" >> "${e}"]\nAll nodes must be enclosed as array.`);if(0===n)throw new Error(`["${f}" >> "${e}"]\nCan't exist empty nodes.`)}if(k.exists&&q.exists)throw new Error(`["${f}" >> "${e}"]\nNodes must not have both 'response' and 'sequence' properties at the same time.`);if(!k.exists&&I.exists)throw new Error(`["${f}" >> "${e}"]\nThe '*repeatResponse' property must exist on parent response nodes only.`);if(!k.exists&&b.exists)throw new Error(`["${f}" >> "${e}"]\nThe '*required' property must exist on parent response nodes only.`);if(!q.exists&&O.exists)throw new Error(`["${f}" >> "${e}"]\nThe '*alternate' property must exist on parent sequence nodes only.`);0===v.length&&(a&&(a=JSON.parse(JSON.stringify(a))),R.rootNodeIndex=++R.rootNodeIndex||0,c=0),R.resultObject=JSON.parse(JSON.stringify(l)),l["*DJM_shown"]=!1}if(S||(l["*DJM_finished"]=!1),k.exists&&(R.isRepeatResponse=void 0),k.exists&&l["*DJM_shown"]){l["*DJM_canResponse"]=void 0;const e=l.response.length;for(let s=0;s<e&&(p=s,l.response[s]["*DJM_finished"]||l.response[s]["*DJM_skipped"]);s++);if(R.canFlow)return v[v.length]=l,void _(l.response,p,!0,l["*DJM_returnedResponse"],!0);if(!R.hasResponded){n.allReturnedResponseExcluded=void 0;let e=!1;for(let s=v.length-1;s>=0;s--){const n=v[s];if(n.sequence){const s=n["*DJM_sequenceId"];if(!M(n).excluded)if(n["*alternate"])m(s,void 0!==g[s]?g[s].sequenceNodeLevel:0,!0);else{const t=n.sequence.length;for(let o=0;o<t;o++)if(L=void 0!==n.sequence[o]["*DJM_skipped"],j=void 0!==n.sequence[o]["*DJM_shown"],!L&&!j){m(`${s}:P`,o),e=!0;break}}}if(e)break}if(v.length=0,R.responseHasPendingAlternateFromParent=void 0,e)R.canFlow=!0,_(i,0);else{if(i.shift(),0===i.length)return R.resultSentBefore=void 0,R.rootNodeIndex=void 0,R.lastResponseParentNode=void 0,c=0,u=0,R.responseId=void 0,R.lastReturnedResponse=void 0,R.lastSequenceIsAlternate=void 0,R.canFlow=void 0,i=a,void(t?x("recall",!0):_(i,0));_(i,0)}return}}if(r){const s=l[J].length;if(void 0===s)throw new Error(`["${f}" >> "${e}"]\nAll returned response value nested properties must be enclosed as array.`);for(let e=0;e<s&&(p=e,s>1&&u>0&&e<u&&(l[J][e]["*DJM_skipped"]=!0),l[J][e]["*DJM_finished"]||l[J][e]["*DJM_skipped"]);e++);return l["*DJM_shown"]=!0,v[v.length]=l,void _(l[J],p,!1,J,!0)}const $=M(l,D);if(n.isExcluded=$.excluded,!n.isExcluded&&(l["*DJM_shown"]&&q.exists||q.exists&&(1===q.parentLength||(O.exists||$.nodeHasOnProp)&&q.parentLength===2+($.nodeHasOnProp?1:0)))){l["*DJM_shown"]||(R.isAlternate=!!+O.value,l["*DJM_shown"]=!0);let e=!1,s=!1;R.responseHasPendingAlternateFromParent||(l["*DJM_sequenceId"]=`root:${R.rootNodeIndex}-parent_response:${c}-index:${w}-level:${v.length}`);const n=l["*DJM_sequenceId"],t=l["*alternate"]=!!+l["*alternate"];t&&(R.lastSequenceIsAlternate=!0,s=void 0!==g[n],s&&g[n].updateOnNextTime&&m(n,function(e){let s,n;void 0===g[e["*DJM_sequenceId"]]&&m(e["*DJM_sequenceId"],0);const t=e.sequence.length;for(let o=0;o<t;o++){if(!M(e.sequence[o]).excluded&&(void 0===s&&(s=o),o>g[e["*DJM_sequenceId"]].sequenceNodeLevel)){n=o;break}o===t-1&&(n=s)}return n}(l)));const o=l.sequence.length;for(let r=0;r<o&&(p=r,t?!s&&M(l.sequence[r]).excluded?l.sequence[r]["*DJM_skipped"]=e=!0:s&&r<g[n].sequenceNodeLevel&&(l.sequence[r]["*DJM_skipped"]=!0):M(l.sequence[r]).excluded&&(l.sequence[r]["*DJM_skipped"]=!0),void 0!==g[`${n}:P`]&&(r<g[`${n}:P`].sequenceNodeLevel?l.sequence[r]["*DJM_skipped"]=!0:g[`${n}:P`]=void 0),!l.sequence[r]["*DJM_canResponse"]&&(l.sequence[r]["*DJM_finished"]||l.sequence[r]["*DJM_skipped"]||l.sequence[r]["*DJM_done"]));r++);return e&&m(n,p),R.responseHasPendingAlternateFromParent||(v[v.length]=l),void _(l.sequence,p,void 0,void 0,void 0,!0)}if(!l["*DJM_shown"]){if(!n.isExcluded){if(R.resultObject.isSequence=N,N&&R.isAlternate&&(R.resultObject.isAlternate=!0,R.isAlternate=void 0),R.resultObject.isResponse=D,R.resultObject.response=D?J:void 0,k.exists&&(R.resultObject.hasResponse=!0),D&&R.isRepeatResponse&&(R.resultObject.isRepeatResponse=!0,R.isRepeatResponse=void 0),q.exists&&(R.resultObject.hasSequence=!0,R.resultObject.sequence=void 0),O.exists&&(+O.value&&(R.isAlternate=!0,R.resultObject.hasAlternate=!0),R.resultObject["*alternate"]=void 0),I.exists&&(+I.value&&(R.isRepeatResponse=!0,R.resultObject.hasRepeatResponse=!0),R.resultObject["*repeatResponse"]=void 0),b.exists){const e=b.value,s=e=>e&&e.constructor&&e.constructor===Object,n=!!+e;R.resultObject.hasRequired=n||s(e),R.resultObject["*required"]=void 0,R.requiredResult=R.resultObject.hasRequired&&n?R.resultObject:e}if(l["*DJM_shown"]=!0,q.exists||k.exists||(l["*DJM_finished"]=!0),q.exists)R.canFlow=void 0!==R.lastReturnedResponse;else if(k.exists){if(l["*DJM_canResponse"]=l["*DJM_skipped"]=!0,R.canFlow=void 0,R.hasResponded=void 0,R.responseId=l["*DJM_responseId"]=`root:${R.rootNodeIndex}-index:${w}-response:${c}-${void 0===R.responseId||void 0===R.lastReturnedResponse?"default":R.lastReturnedResponse}:${v.length}`,R.lastResponseParentNode=l,R.responseHasPendingAlternateFromParent=R.lastSequenceIsAlternate,d){const e=l.response.map(e=>Object.keys(e)).reduce((e,s)=>e.concat(s));R.resultObject.responses=e.filter((s,n)=>e.indexOf(s)===n)}return R.resultObject.isSequence&&(v[v.length-1]["*DJM_hasPendingResponse"]=!0),void x("result")}}let s=!1,o=!1;if(!n.isExcluded||n.isExcluded&&(N||D)){for(let e=v.length-1;e>=0;e--){const n=v[e],t=void 0!==n.sequence,r=n["*alternate"],d=void 0!==n.response;if((D=n["*isResponseLevel"])&&!o){let e=0;const s=n[R.lastReturnedResponse].length;for(let t=0;t<s;t++)if(L=void 0!==n[R.lastReturnedResponse][t]["*DJM_skipped"],L&&e++,n[R.lastReturnedResponse][t]["*DJM_finished"]){o=!0;break}n["*DJM_finished"]=e+(o?1:0)===s}else if(t){s=!0;for(let e=n.sequence.length-1;e>=0&&(n.sequence[e]["*DJM_finished"]||n.sequence[e]["*DJM_skipped"]||n.sequence[e]["*DJM_done"]||n["*alternate"]&&!n.sequence[e]["*DJM_shown"]);e--)n["*DJM_finished"]=0===e,s=!n["*DJM_finished"]}else if(d)if(o)n["*DJM_done"]=!0;else{const e=n.response.length-1;n["*DJM_finished"]=n.response[e]["*DJM_finished"]||n.response[e]["*DJM_skipped"]}if(r&&(n["*DJM_finished"]||n["*DJM_skipped"])&&(currentSequenceId=n["*DJM_sequenceId"],m(currentSequenceId,void 0!==g[currentSequenceId]?g[currentSequenceId].sequenceNodeLevel:0,!0)),o&&s)break}}const r=o&&!s;if((i[0]["*DJM_finished"]||i[0]["*DJM_skipped"]||r)&&i.shift(),r&&(R.responseId=void 0),R.responseHasPendingAlternateFromParent=void 0,c=0,u=0,v.length=0,R.allNodesExcluded=n.isExcluded&&!R.resultSentBefore,0===i.length){if(R.resultSentBefore=void 0,R.rootNodeIndex=void 0,R.responseId=void 0,R.lastResponseParentNode=void 0,R.lastSequenceIsAlternate=void 0,a?(i=a,a=void 0,n.isExcluded?R.allNodesExcluded||_(i,0):x("result")):n.isExcluded?R.allNodesExcluded||x("recall",t):x("result",t),R.allNodesExcluded)throw new Error(`["${f}" >> "${e}"]\nDo not exclude all nodes!`);return}return void(n.isExcluded?_(i,0):x("result"))}}catch(e){R.resultObject=e.message,x("exception")}}}(e.key,e.handledKey,e.response,e.excludeTemplate,e.canAppendResponses)})}}`],{type:"application/javascript"}))),y=async(c="",{response:f="",replaceTemplate:J,excludeTemplate:y,mergeTemplate:M,lock:_=!1,reset:D=!1}={})=>{if(u)return new Promise((e,s)=>{chrome.runtime.sendMessage({DJM_Run:!0,data:{key:c,response:f,replaceTemplate:J,excludeTemplate:y,mergeTemplate:M,lock:_,reset:D}},n=>{const{success:t,error:o}=n;t?e(t):s(o)})});let N,w,q=n[c];M&&(void 0===q||D)&&(n[c]={},n[c].lastKeyIndex=-1,n[c].swappedKey=c,n[c].pendingReset=D,q=n[c]);const k=c;let I;async function b(e){t[c]&&(D||(e.jsonStringKey=d[c]),t[c]=void 0),m.postMessage(void 0===e?{key:c,jsonFileName:o,jsonStringLoaded:""!==d,jsonStringKey:d[c],handledKey:""===f&&void 0!==M||""!==f&&void 0!==q,response:f,excludeTemplate:y,canAppendResponses:a}:{key:c,instance:e,handledKey:""===f&&void 0!==M||""!==f&&void 0!==q,response:f,excludeTemplate:y,canAppendResponses:a})}async function O(s){e[c].jsonStringKey=s,q&&(n[k].jsonStringKeyDone=!0),S()}async function j(s){const{nextKey:o,mainKeyManager:a,mainKeyRepeated:l}=s;if(l&&w('The main key must not be included in the "Merge Template"'),c=o,n[k]=a,keyInstance=n[k].pendingReset?(t[c]=void 0)||void 0:e[c],keyInstance){const{lastUpdatedKey:s}=a;a.canUpdateJsonString?(i?await v(r,s=>{e[c].jsonStringKey=s[c],keyInstance=e[c]}):(e[c].jsonStringKey=d[c],keyInstance=e[c]),n[k].canUpdateJsonString=void 0):s&&c!==s&&(e[c].jsonStringKey=d[c],keyInstance=e[c]),n[k].lastUpdatedKey=c,t[c]=void 0}return keyInstance}async function S(){function o(e){J?l?(x.postMessage([e,J]),x.onmessage=e=>N(e.data)):N(J?g(e,J):e):N(e)}return new Promise(async(l,u)=>{if(N=N||l,w=w||u,""===d)return void w('First load "DJM._LoadJSONFileAsync()"');let g;if(q&&(c=q.swappedKey),D?f=(e[c]=s[c]=void 0)||"":s[c]&&""===f?(g=e[c]=s[c],s[c]=void 0):g=e[c],g){if(g.isLoadingJsonFile)return void setTimeout(()=>S(),0);if(_)return void o(g.savedInfo.resultObject);if(g.savedInfo.requiredResult){if(""===f)return g.savedInfo.requiredResult.isRequired=(g.savedInfo.requiredResult.hasRequired=void 0)||!0,a&&(g.savedInfo.requiredResult.responses=g.savedInfo.resultObject.responses),void o(g.savedInfo.requiredResult);g.savedInfo.requiredResult=void 0}g.canPrepareReloaded?e[c].reloaded=d[c]:e[c].reloaded=void 0,M&&""===f&&n[k].jsonStringKeyDone?(p?(R.postMessage([k,M,n[k]]),R.onmessage=async e=>b(await j(e.data))):b(await j(h(k,M,n[k]))),n[k].jsonStringKeyDone=void 0):b(g)}else b();m.onmessage=l=>{const{type:p,data:u,swapKey:f}=l.data;if("result"===p){const{resultObject:d}=u.savedInfo,l=u.jsonStringKey.length;let p;if(d.isRepeatResponse?(s[c]={},a&&(u.savedInfo.resultObject.responses=e[c].savedInfo.resultObject.responses),s[c]=u,q||(p=s[c].canPrepareReloaded&&s[c].reloaded,s[c].canPrepareReloaded=1===l)):(e[c]=u,q?t[c]=f:(p=e[c].canPrepareReloaded&&e[c].reloaded,e[c].canPrepareReloaded=1===l)),q)n[k].jsonStringKeyDone=f;else if(!p&&l<=1&&i){const n=0===l;s[c]?s[c].isLoadingJsonFile=!0:e[c].isLoadingJsonFile=!0,v(r,t=>{n&&(s[c]?s[c].jsonStringKey=t[c]:e[c].jsonStringKey=t[c]),s[c]?s[c].isLoadingJsonFile=void 0:e[c].isLoadingJsonFile=void 0})}o(d)}else if("recall"===p)e[c]=u,f?(n[k].jsonStringKeyDone=t[c]=!0,S()):i?v(r,e=>O(e[c])):O(d[c]);else if("exception"===p){const{resultObject:s,allNodesExcluded:t}=u.savedInfo;e[c]=u;const o=q&&t&&-1===n[k].lastKeyIndex;!q||!t||o&&I?w(s):(o&&(I=!0),n[k].jsonStringKeyDone=!0,S())}}})}return S().then(e=>e).catch(e=>{throw new Error(e)})};return c&&chrome.runtime.onMessage.addListener((e,s,n)=>{if(e.DJM_IsJSONFileLoaded)n(""!==d);else if(e.DJM_LoadJSONFileAsync){const{jsonFileFullPath:s}=e;""===d?v(s,n):n(d)}else if(e.DJM_Settings){const{isRefreshable:s,appendResponses:n,replaceOnWorker:t,mergeOnWorker:o}=e.data;f({isRefreshable:s,appendResponses:n,replaceOnWorker:t,mergeOnWorker:o})}else if(e.DJM_Run){const{key:s,response:t,replaceTemplate:o,excludeTemplate:r,mergeTemplate:d,lock:i,reset:a}=e.data;y(s,{response:t,replaceTemplate:o,excludeTemplate:r,mergeTemplate:d,lock:i,reset:a}).then(e=>n({success:e})).catch(e=>n({error:e}))}return!0}),{_LoadJSONFileAsync:v,_Run:y,_RunDebounced:(e=>{let s;return async(n="",{waitTime:t=300,response:o="",replaceTemplate:r,excludeTemplate:d,mergeTemplate:i,lock:a=!1,reset:l=!1}={})=>(clearTimeout(s),new Promise(p=>{s=setTimeout(()=>p(e(n,{response:o,replaceTemplate:r,excludeTemplate:d,mergeTemplate:i,lock:a,reset:l})),t)}))})(y),_Settings:f,_TemplateGenerator:J,_IsJSONFileLoadedAsCallback:e=>{c&&u?chrome.runtime.sendMessage({DJM_IsJSONFileLoaded:!0},s=>e(s)):e(""!==d)}}})();
