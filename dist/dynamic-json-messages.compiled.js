var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(a){var b=0;return function(){return b<a.length?{done:!1,value:a[b++]}:{done:!0}}};$jscomp.arrayIterator=function(a){return{next:$jscomp.arrayIteratorImpl(a)}};$jscomp.makeIterator=function(a){var b="undefined"!=typeof Symbol&&Symbol.iterator&&a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};
$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,d){a!=Array.prototype&&a!=Object.prototype&&(a[b]=d.value)};
$jscomp.polyfill=function(a,b,d,g){if(b){d=$jscomp.global;a=a.split(".");for(g=0;g<a.length-1;g++){var h=a[g];h in d||(d[h]={});d=d[h]}a=a[a.length-1];g=d[a];b=b(g);b!=g&&null!=b&&$jscomp.defineProperty(d,a,{configurable:!0,writable:!0,value:b})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(a){function b(){this.batch_=null}function d(a){return a instanceof h?a:new h(function(b,m){b(a)})}if(a&&!$jscomp.FORCE_POLYFILL_PROMISE)return a;b.prototype.asyncExecute=function(a){if(null==this.batch_){this.batch_=[];var b=this;this.asyncExecuteFunction(function(){b.executeBatch_()})}this.batch_.push(a)};var g=$jscomp.global.setTimeout;b.prototype.asyncExecuteFunction=function(a){g(a,0)};b.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var a=
this.batch_;this.batch_=[];for(var b=0;b<a.length;++b){var d=a[b];a[b]=null;try{d()}catch(N){this.asyncThrow_(N)}}}this.batch_=null};b.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a;})};var h=function(a){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var b=this.createResolveAndReject_();try{a(b.resolve,b.reject)}catch(q){b.reject(q)}};h.prototype.createResolveAndReject_=function(){function a(a){return function(m){d||(d=!0,a.call(b,m))}}var b=this,d=!1;
return{resolve:a(this.resolveTo_),reject:a(this.reject_)}};h.prototype.resolveTo_=function(a){if(a===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(a instanceof h)this.settleSameAsPromise_(a);else{a:switch(typeof a){case "object":var b=null!=a;break a;case "function":b=!0;break a;default:b=!1}b?this.resolveToNonPromiseObj_(a):this.fulfill_(a)}};h.prototype.resolveToNonPromiseObj_=function(a){var b=void 0;try{b=a.then}catch(q){this.reject_(q);return}"function"==typeof b?
this.settleSameAsThenable_(b,a):this.fulfill_(a)};h.prototype.reject_=function(a){this.settle_(2,a)};h.prototype.fulfill_=function(a){this.settle_(1,a)};h.prototype.settle_=function(a,b){if(0!=this.state_)throw Error("Cannot settle("+a+", "+b+"): Promise already settled in state"+this.state_);this.state_=a;this.result_=b;this.executeOnSettledCallbacks_()};h.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var a=0;a<this.onSettledCallbacks_.length;++a)n.asyncExecute(this.onSettledCallbacks_[a]);
this.onSettledCallbacks_=null}};var n=new b;h.prototype.settleSameAsPromise_=function(a){var b=this.createResolveAndReject_();a.callWhenSettled_(b.resolve,b.reject)};h.prototype.settleSameAsThenable_=function(a,b){var d=this.createResolveAndReject_();try{a.call(b,d.resolve,d.reject)}catch(N){d.reject(N)}};h.prototype.then=function(a,b){function d(a,b){return"function"==typeof a?function(b){try{g(a(b))}catch(O){m(O)}}:b}var g,m,n=new h(function(a,b){g=a;m=b});this.callWhenSettled_(d(a,g),d(b,m));return n};
h.prototype["catch"]=function(a){return this.then(void 0,a)};h.prototype.callWhenSettled_=function(a,b){function d(){switch(g.state_){case 1:a(g.result_);break;case 2:b(g.result_);break;default:throw Error("Unexpected state: "+g.state_);}}var g=this;null==this.onSettledCallbacks_?n.asyncExecute(d):this.onSettledCallbacks_.push(d)};h.resolve=d;h.reject=function(a){return new h(function(b,d){d(a)})};h.race=function(a){return new h(function(b,g){for(var h=$jscomp.makeIterator(a),m=h.next();!m.done;m=
h.next())d(m.value).callWhenSettled_(b,g)})};h.all=function(a){var b=$jscomp.makeIterator(a),g=b.next();return g.done?d([]):new h(function(a,h){function m(b){return function(d){n[b]=d;q--;0==q&&a(n)}}var n=[],q=0;do n.push(void 0),q++,d(g.value).callWhenSettled_(m(n.length-1),h),g=b.next();while(!g.done)})};return h},"es6","es3");
$jscomp.polyfill("Promise.prototype.finally",function(a){return a?a:function(a){return this.then(function(b){return Promise.resolve(a()).then(function(){return b})},function(b){return Promise.resolve(a()).then(function(){throw b;})})}},"es9","es3");$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.SymbolClass=function(a,b){this.$jscomp$symbol$id_=a;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:b})};$jscomp.SymbolClass.prototype.toString=function(){return this.$jscomp$symbol$id_};$jscomp.Symbol=function(){function a(d){if(this instanceof a)throw new TypeError("Symbol is not a constructor");return new $jscomp.SymbolClass($jscomp.SYMBOL_PREFIX+(d||"")+"_"+b++,d)}var b=0;return a}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.iterator;a||(a=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("Symbol.iterator"));"function"!=typeof Array.prototype[a]&&$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var a=$jscomp.global.Symbol.asyncIterator;a||(a=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("Symbol.asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(a){$jscomp.initSymbolIterator();a={next:a};a[$jscomp.global.Symbol.iterator]=function(){return this};return a};$jscomp.underscoreProtoCanBeSet=function(){var a={a:!0},b={};try{return b.__proto__=a,b.a}catch(d){}return!1};
$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b)throw new TypeError(a+" is not extensible");return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(!(a instanceof Object))throw new TypeError("Iterator result "+a+" is not an object");};
$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=void 0;this.nextAddress=1;this.finallyAddress_=this.catchAddress_=0;this.finallyContexts_=this.abruptCompletion_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_)throw new TypeError("Generator is already running");this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};
$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype["return"]=function(a){this.abruptCompletion_={"return":a};this.nextAddress=this.finallyAddress_};
$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(a,b){this.nextAddress=b;return{value:a}};$jscomp.generator.Context.prototype.yieldAll=function(a,b){var d=$jscomp.makeIterator(a),g=d.next();$jscomp.generator.ensureIteratorResultIsObject_(g);if(g.done)this.yieldResult=g.value,this.nextAddress=b;else return this.yieldAllIterator_=d,this.yield(g.value,b)};
$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(a,b){this.catchAddress_=a;void 0!=b&&(this.finallyAddress_=b)};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(a,b){this.nextAddress=a;this.catchAddress_=b||0};
$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;a=this.abruptCompletion_.exception;this.abruptCompletion_=null;return a};$jscomp.generator.Context.prototype.enterFinallyBlock=function(a,b,d){d?this.finallyContexts_[d]=this.abruptCompletion_:this.finallyContexts_=[this.abruptCompletion_];this.catchAddress_=a||0;this.finallyAddress_=b||0};
$jscomp.generator.Context.prototype.leaveFinallyBlock=function(a,b){var d=this.finallyContexts_.splice(b||0)[0];if(d=this.abruptCompletion_=this.abruptCompletion_||d){if(d.isException)return this.jumpToErrorHandler_();void 0!=d.jumpTo&&this.finallyAddress_<d.jumpTo?(this.nextAddress=d.jumpTo,this.abruptCompletion_=null):this.nextAddress=this.finallyAddress_}else this.nextAddress=a};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};
$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a)this.properties_.push(b);this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){for(;0<this.properties_.length;){var a=this.properties_.pop();if(a in this.object_)return a}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context;this.program_=a};
$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_);this.context_.next_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.return_=function(a){this.context_.start_();var b=this.context_.yieldAllIterator_;if(b)return this.yieldAllStep_("return"in b?b["return"]:function(a){return{value:a,done:!0}},a,this.context_["return"]);this.context_["return"](a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_)return this.yieldAllStep_(this.context_.yieldAllIterator_["throw"],a,this.context_.next_);this.context_.throw_(a);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.yieldAllStep_=function(a,b,d){try{var g=a.call(this.context_.yieldAllIterator_,b);$jscomp.generator.ensureIteratorResultIsObject_(g);if(!g.done)return this.context_.stop_(),g;var h=g.value}catch(n){return this.context_.yieldAllIterator_=null,this.context_.throw_(n),this.nextStep_()}this.context_.yieldAllIterator_=null;d.call(this.context_,h);return this.nextStep_()};
$jscomp.generator.Engine_.prototype.nextStep_=function(){for(;this.context_.nextAddress;)try{var a=this.program_(this.context_);if(a)return this.context_.stop_(),{value:a.value,done:!1}}catch(b){this.context_.yieldResult=void 0,this.context_.throw_(b)}this.context_.stop_();if(this.context_.abruptCompletion_){a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException)throw a.exception;return{value:a["return"],done:!0}}return{value:void 0,done:!0}};
$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this["throw"]=function(b){return a.throw_(b)};this["return"]=function(b){return a.return_(b)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(a,b){var d=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(b));$jscomp.setPrototypeOf&&$jscomp.setPrototypeOf(d,a.prototype);return d};
$jscomp.asyncExecutePromiseGenerator=function(a){function b(b){return a.next(b)}function d(b){return a["throw"](b)}return new Promise(function(g,h){function n(a){a.done?g(a.value):Promise.resolve(a.value).then(b,d).then(n,h)}n(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};
var DJM=function(){var a={},b={},d={},g={},h="",n="",m="",V=!0,q=!1,N=!1,Z=!1,I=function(a,b){a=void 0===a?"":a;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){n=a;h=n.substr(n.lastIndexOf("/")+1);return c.yield(fetch(n).then(function(a){return a.json()}).then(function(a){m=a})["catch"](function(a){return console.log('[DJM] Error loading "'+n+'": '+a.message)})["finally"](function(){b&&"function"===typeof b&&b(m)}),0)})},fa=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=
arguments[c];var d=$jscomp.makeIterator(b);c=d.next().value;var k=d.next().value;b=$jscomp.makeIterator(b);b.next();b.next();b=b.next().value;d=c;var g=!1;if(k=k.merge)for(var h=k.length,m=0;m<h;m++){var n=k[m],S=!!+n.active;if((void 0===n.active||S)&&m>b.lastKeyIndex){b.lastKeyIndex=m;d=n.key;g=d===c;break}m===h-1&&(b={lastKeyIndex:-1,canUpdateJsonString:!0,lastUpdatedKey:void 0})}b.swappedKey=d;return{nextKey:d,mainKeyManager:b,mainKeyRepeated:g}},ha=new Worker(URL.createObjectURL(new Blob(["onmessage = e => postMessage(("+
fa.toString()+").call(this, ...e.data));"],{type:"application/javascript"}))),ia=function(a){for(var b=[],c=0;c<arguments.length;++c)b[c-0]=arguments[c];c=$jscomp.makeIterator(b);b=c.next().value;c=c.next().value;var d=b[c.onProp],k=c.replace;if(d&&k){k=k.length;for(var g=0;g<k;g++){var h=c.replace[g];b[c.onProp]=d=d.replace(h.here,h.to)}}return b},O=new Worker(URL.createObjectURL(new Blob(["onmessage = e => postMessage(("+ia.toString()+").call(this, ...e.data));"],{type:"application/javascript"}))),
ka=function(){return{_Exclude:function(a){a=void 0===a?"":a;var b=[];return{_AddExclude:function(a,c){b[b.length]={match:void 0===a?"":a,active:c}},_GetTemplate:function(){return{onProp:a,exclude:b}}}},_Merge:function(){var a=[];return{_AddKey:function(b,c){a[a.length]={key:void 0===b?"":b,active:c}},_GetTemplate:function(){return{merge:a}}}},_Replace:function(a){a=void 0===a?"":a;var b=[];return{_AddReplace:function(a,c){b[b.length]={here:void 0===a?"":a,to:void 0===c?"":c}},_GetTemplate:function(){return{onProp:a,
replace:b}}}}}}(),da=new Worker(URL.createObjectURL(new Blob(["onmessage="+function(a){function b(a,b,g,h,m){function k(a,b){f["*DJM_canResponse"]||(f=void 0,e.lastResponseParentNode=void 0);e.resultSentBefore="result"===a;c.excludeTemplate=void 0;c.jsonStringKey=y;c.reloaded=J;c.nestedNodes.length=l.length;c.savedInfo=e;c.skipToNode=z;c.dataAttribs=f;c.dataIndex=E;c.retrievedResponseNodeLevel=x;c.retrievedResponseValueNodeLevel=X;postMessage({type:a,swapKey:b,data:c})}function n(a,b,c,d){z[a][b]=
{parentResponseNodeLevel:c,returnedResponseNodeLevel:d}}function q(a,b,c){z[a]={sequenceNodeLevel:b,updateOnNextTime:c}}function K(a,b,c){b=a[b];return{exists:void 0!==b,value:b,parentLength:(void 0===c?0:c)?Object.values(a).length:void 0}}function H(a,b){b=void 0===b?!1:b;var c=!1,d=!1;if(h){var e=h.onProp,f=h.exclude;if(e&&f){e=K(a,e);c=c?c:e.exists;if(!c)return{nodeHasOnProp:c,excluded:d};for(var g=f.length,k=0;k<g;k++){var r=f[k];d=r.active;r=e.value===r.match;var l=!!+d;if(d=r&&void 0===d||r&&
l){a["*DJM_finished"]=!b;break}}}}return{nodeHasOnProp:c,excluded:a["*DJM_hasPendingResponse"]?!1:d}}function F(a){void 0===z[a["*DJM_sequenceId"]]&&q(a["*DJM_sequenceId"],0);for(var b,c,d=a.sequence.length,e=0;e<d;e++){if(!H(a.sequence[e]).excluded&&(void 0===b&&(b=e),e>z[a["*DJM_sequenceId"]].sequenceNodeLevel)){c=e;break}e===d-1&&(c=b)}return c}function p(b){var c;if(void 0!==f&&f["*DJM_canResponse"]&&(!d.isExcluded||e.resultSentBefore)){if(void 0===f.response.length)throw Error('["'+r+'" >> "'+
a+"\"]\nAll 'response' nested properties must be enclosed as array.");void 0===z[b]&&(z[b]={});(c=void 0===z[b][e.responseId])&&n(b,e.responseId,0,0);d.allReturnedResponseExcluded=void 0;for(var k,g,h,m,y=z[b][e.responseId],J=e.lastResponseParentNode.response.length,q=0;q<J;q++){e.lastResponseParentNode.response[q]["*isResponseLevel"]=!0;var ba=e.lastResponseParentNode.response[q][b];if(ba)for(var E=ba.length,p=0;p<E;p++)if(!H(ba[p],!0).excluded&&(void 0===k&&(k=q),void 0===h&&(h=p),q===y.parentResponseNodeLevel&&
p>y.returnedResponseNodeLevel||c&&p>=y.returnedResponseNodeLevel||q>y.parentResponseNodeLevel)){g=q;m=p;break}if(void 0!==g)break;q===J-1?(g=k,m=h,d.allReturnedResponseExcluded=void 0===g&&void 0===m,d.allReturnedResponseExcluded||(e.lastResponseParentNode.response[g]["*DJM_skipped"]=void 0,e.lastResponseParentNode.response[g][b][m]["*DJM_skipped"]=void 0)):e.lastResponseParentNode.response[q]["*DJM_skipped"]=!0}c=m;d.allReturnedResponseExcluded||void 0===c||(n(b,e.responseId,g,c),x=z[b][e.responseId].parentResponseNodeLevel,
X=z[b][e.responseId].returnedResponseNodeLevel,f["*DJM_canResponse"]=f["*DJM_skipped"]=void 0,f["*DJM_returnedResponse"]=b,e.lastReturnedResponse=b,e.hasResponded=!0,l[l.length]=f,t(f.response,x,!0,f["*DJM_returnedResponse"]))}}function t(c,g,h,n,p,A){g=void 0===g?0:g;try{if(!ba)throw Error('["'+r+'" >> "'+a+'"]\nJSON file not loaded.');if(void 0===c)throw Error('["'+r+'" >> "'+a+"\"]\nThere's no data for the specified JSON key.");E=g;f=c[E];g=E;var B=K(f,"sequence",!0),u=K(f,"response"),L=K(f,"*repeatResponse"),
G=K(f,"*required"),Q=K(f,"*alternate"),W=f&&void 0!==f["*DJM_shown"],N=f&&void 0!==f["*DJM_finished"],C=f&&void 0!==f["*DJM_skipped"];if(!W){if(B.exists){var R=f.sequence.length;if(void 0===R)throw Error('["'+r+'" >> "'+a+"\"]\nAll 'sequence' nested nodes must be enclosed as array.");if(0===R)throw Error('["'+r+'" >> "'+a+'"]\nAt least must exist one sequence nested node.');}else if(u.exists){var S=f.response.length;if(void 0===S)throw Error('["'+r+'" >> "'+a+"\"]\nAll 'response' nested nodes must be enclosed as array.");
if(0===S)throw Error('["'+r+'" >> "'+a+"\"]\nAt least must exist one response value node on 'response' nested node.");}else{var P=c.length;if(void 0===P)throw Error('["'+r+'" >> "'+a+'"]\nAll nodes must be enclosed as array.');if(0===P)throw Error('["'+r+'" >> "'+a+"\"]\nCan't exist empty nodes.");}if(u.exists&&B.exists)throw Error('["'+r+'" >> "'+a+"\"]\nNodes must not have both 'response' and 'sequence' properties at the same time.");if(!u.exists&&L.exists)throw Error('["'+r+'" >> "'+a+"\"]\nThe '*repeatResponse' property must exist on parent response nodes only.");
if(!u.exists&&G.exists)throw Error('["'+r+'" >> "'+a+"\"]\nThe '*required' property must exist on parent response nodes only.");if(!B.exists&&Q.exists)throw Error('["'+r+'" >> "'+a+"\"]\nThe '*alternate' property must exist on parent sequence nodes only.");0===l.length&&(J&&(J=JSON.parse(JSON.stringify(J))),e.rootNodeIndex=++e.rootNodeIndex||0,x=0);e.resultObject=JSON.parse(JSON.stringify(f));f["*DJM_shown"]=!1}N||(f["*DJM_finished"]=!1);u.exists&&(e.isRepeatResponse=void 0);if(u.exists&&f["*DJM_shown"]){f["*DJM_canResponse"]=
void 0;var V=f.response.length;for(c=0;c<V&&(E=c,f.response[c]["*DJM_finished"]||f.response[c]["*DJM_skipped"]);c++);if(e.canFlow){l[l.length]=f;t(f.response,E,!0,f["*DJM_returnedResponse"],!0);return}if(!e.hasResponded){d.allReturnedResponseExcluded=void 0;p=!1;for(var O=l.length-1;0<=O;O--){var T=l[O];if(T.sequence){var I=T["*DJM_sequenceId"];if(!H(T).excluded)if(T["*alternate"])q(I,void 0!==z[I]?z[I].sequenceNodeLevel:0,!0);else for(var la=T.sequence.length,v=0;v<la;v++)if(C=void 0!==T.sequence[v]["*DJM_skipped"],
W=void 0!==T.sequence[v]["*DJM_shown"],!C&&!W){q(I+":P",v);p=!0;break}}if(p)break}l.length=0;e.responseHasPendingAlternateFromParent=void 0;if(p)e.canFlow=!0;else if(y.shift(),0===y.length){e.resultSentBefore=void 0;e.rootNodeIndex=void 0;e.lastResponseParentNode=void 0;X=x=0;e.responseId=void 0;e.lastReturnedResponse=void 0;e.lastSequenceIsAlternate=void 0;e.canFlow=void 0;y=J;b?k("recall",!0):t(y,0);return}t(y,0);return}}if(h){var ja=f[n].length;if(void 0===ja)throw Error('["'+r+'" >> "'+a+'"]\nAll returned response value nested properties must be enclosed as array.');
for(C=0;C<ja&&(E=C,1<ja&&0<X&&C<X&&(f[n][C]["*DJM_skipped"]=!0),f[n][C]["*DJM_finished"]||f[n][C]["*DJM_skipped"]);C++);f["*DJM_shown"]=!0;l[l.length]=f;t(f[n],E,!1,n,!0)}else{var aa=H(f,p);d.isExcluded=aa.excluded;if(!d.isExcluded&&(f["*DJM_shown"]&&B.exists||B.exists&&(1===B.parentLength||(Q.exists||aa.nodeHasOnProp)&&B.parentLength===2+(aa.nodeHasOnProp?1:0)))){f["*DJM_shown"]=!0;p=C=!1;e.responseHasPendingAlternateFromParent||(f["*DJM_sequenceId"]="root:"+e.rootNodeIndex+"-parent_response:"+x+
"-index:"+g+"-level:"+l.length);var D=f["*DJM_sequenceId"],M=f["*alternate"]=!!+f["*alternate"];M&&(e.lastSequenceIsAlternate=!0,(p=void 0!==z[D])&&z[D].updateOnNextTime&&q(D,F(f)));var Y=f.sequence.length;for(v=0;v<Y&&(E=v,M?!p&&H(f.sequence[v]).excluded?f.sequence[v]["*DJM_skipped"]=C=!0:p&&v<z[D].sequenceNodeLevel&&(f.sequence[v]["*DJM_skipped"]=!0):H(f.sequence[v]).excluded&&(f.sequence[v]["*DJM_skipped"]=!0),void 0!==z[D+":P"]&&(v<z[D+":P"].sequenceNodeLevel?f.sequence[v]["*DJM_skipped"]=!0:
z[D+":P"]=void 0),!f.sequence[v]["*DJM_canResponse"]&&(f.sequence[v]["*DJM_finished"]||f.sequence[v]["*DJM_skipped"]||f.sequence[v]["*DJM_done"]));v++);C&&q(D,E);e.responseHasPendingAlternateFromParent||(l[l.length]=f);t(f.sequence,E,void 0,void 0,void 0,!0)}else if(!f["*DJM_shown"]){if(!d.isExcluded){(e.resultObject.isSequence=A)&&e.isAlternate&&(e.resultObject.isAlternate=!0,e.isAlternate=void 0);e.resultObject.isResponse=p;e.resultObject.response=p?n:void 0;u.exists&&(e.resultObject.hasResponse=
!0);p&&e.isRepeatResponse&&(e.resultObject.isRepeatResponse=!0,e.isRepeatResponse=void 0);B.exists&&(e.resultObject.hasSequence=!0,e.resultObject.sequence=void 0);Q.exists&&(+Q.value&&(e.isAlternate=!0,e.resultObject.hasAlternate=!0),e.resultObject["*alternate"]=void 0);L.exists&&(+L.value&&(e.isRepeatResponse=!0,e.resultObject.hasRepeatResponse=!0),e.resultObject["*repeatResponse"]=void 0);if(G.exists){var ca=G.value;D=!!+ca;e.resultObject.hasRequired=D||ca&&ca.constructor&&ca.constructor===Object;
e.resultObject["*required"]=void 0;e.requiredResult=e.resultObject.hasRequired&&D?e.resultObject:ca}f["*DJM_shown"]=!0;B.exists||u.exists||(f["*DJM_finished"]=!0);if(B.exists)e.canFlow=void 0!==e.lastReturnedResponse;else if(u.exists){f["*DJM_canResponse"]=f["*DJM_skipped"]=!0;e.canFlow=void 0;e.hasResponded=void 0;e.responseId=f["*DJM_responseId"]="root:"+e.rootNodeIndex+"-index:"+g+"-response:"+x+"-"+(void 0===e.responseId||void 0===e.lastReturnedResponse?"default":e.lastReturnedResponse)+":"+l.length;
e.lastResponseParentNode=f;e.responseHasPendingAlternateFromParent=e.lastSequenceIsAlternate;if(m){var Z=f.response.map(function(a){return Object.keys(a)}).reduce(function(a,b){return a.concat(b)});e.resultObject.responses=Z.filter(function(a,b){return Z.indexOf(a)===b})}e.resultObject.isSequence&&(l[l.length-1]["*DJM_hasPendingResponse"]=!0);k("result");return}}M=D=!1;if(!d.isExcluded||d.isExcluded&&(A||p))for(v=l.length-1;0<=v;v--){var w=l[v],fa=void 0!==w.sequence,ha=w["*alternate"],ia=void 0!==
w.response;if((p=w["*isResponseLevel"])&&!M){A=0;var da=w[e.lastReturnedResponse].length;for(Y=0;Y<da;Y++)if((C=void 0!==w[e.lastReturnedResponse][Y]["*DJM_skipped"])&&A++,w[e.lastReturnedResponse][Y]["*DJM_finished"]){M=!0;break}w["*DJM_finished"]=A+(M?1:0)===da}else if(fa){D=!0;for(var U=w.sequence.length-1;0<=U&&(w.sequence[U]["*DJM_finished"]||w.sequence[U]["*DJM_skipped"]||w.sequence[U]["*DJM_done"]||w["*alternate"]&&!w.sequence[U]["*DJM_shown"]);U--)w["*DJM_finished"]=0===U,D=!w["*DJM_finished"]}else if(ia)if(M)w["*DJM_done"]=
!0;else{var ea=w.response.length-1;w["*DJM_finished"]=w.response[ea]["*DJM_finished"]||w.response[ea]["*DJM_skipped"]}ha&&(w["*DJM_finished"]||w["*DJM_skipped"])&&(currentSequenceId=w["*DJM_sequenceId"],q(currentSequenceId,void 0!==z[currentSequenceId]?z[currentSequenceId].sequenceNodeLevel:0,!0));if(M&&D)break}C=M&&!D;(y[0]["*DJM_finished"]||y[0]["*DJM_skipped"]||C)&&y.shift();C&&(e.responseId=void 0);e.responseHasPendingAlternateFromParent=void 0;X=x=0;l.length=0;e.allNodesExcluded=d.isExcluded&&
!e.resultSentBefore;if(0===y.length){if(e.resultSentBefore=void 0,e.rootNodeIndex=void 0,e.responseId=void 0,e.lastResponseParentNode=void 0,e.lastSequenceIsAlternate=void 0,J?(y=J,J=void 0,d.isExcluded?e.allNodesExcluded||t(y,0):k("result")):d.isExcluded?e.allNodesExcluded||k("recall",b):k("result",b),e.allNodesExcluded)throw Error('["'+r+'" >> "'+a+'"]\nDo not exclude all nodes!');}else d.isExcluded?t(y,0):k("result")}}}catch(ma){e.resultObject=ma.message,k("exception")}}var A=c,y=A.jsonStringKey,
J=A.reloaded,f=A.dataAttribs,E=A.dataIndex,x=A.retrievedResponseNodeLevel,X=A.retrievedResponseValueNodeLevel;A=c;var l=A.nestedNodes,r=A.jsonFileName,ba=A.jsonStringLoaded,e=A.savedInfo,z=A.skipToNode;e.allNodesExcluded?(c.savedInfo.allNodesExcluded=void 0,postMessage({type:"recall",swapKey:b,data:c})):d.isExcluded||""!==g?""!==g&&p(g):t(y,0)}var c,d={};(function(a,b){void 0===a.instance?(a.nestedNodes=[],a.savedInfo={},a.skipToNode={},a.dataAttribs={},a.dataIndex=0,a.retrievedResponseNodeLevel=
0,a.retrievedResponseValueNodeLevel=0,c=a):c=a.instance;b({key:a.key,handledKey:a.handledKey,response:a.response,excludeTemplate:a.excludeTemplate,canAppendResponses:a.canAppendResponses})})(a.data,function(a){b(a.key,a.handledKey,a.response,a.excludeTemplate,a.canAppendResponses)})}],{type:"application/javascript"}))),ea=function(c,Q){function B(a){return $jscomp.asyncExecutePromiseGeneratorProgram(function(b){g[c]&&(K||(a.jsonStringKey=m[c]),g[c]=void 0);da.postMessage(void 0===a?{key:c,jsonFileName:h,
jsonStringLoaded:""!==m,jsonStringKey:m[c],handledKey:""===F&&void 0!==G||""!==F&&void 0!==p,response:F,excludeTemplate:S,canAppendResponses:q}:{key:c,instance:a,handledKey:""===F&&void 0!==G||""!==F&&void 0!==p,response:F,excludeTemplate:S,canAppendResponses:q});b.jumpToEnd()})}function W(b){return $jscomp.asyncExecutePromiseGeneratorProgram(function(g){a[c].jsonStringKey=b;p&&(d[t].jsonStringKeyDone=!0);L();g.jumpToEnd()})}function k(b){var h,f,k,p,q,l;return $jscomp.asyncExecutePromiseGeneratorProgram(function(r){switch(r.nextAddress){case 1:h=
b;f=h.nextKey;k=h.mainKeyManager;(p=h.mainKeyRepeated)&&P('The main key must not be included in the "Merge Template"');c=f;d[t]=k;keyInstance=d[t].pendingReset?(g[c]=void 0,void 0):a[c];if(!keyInstance){r.jumpTo(2);break}q=k;l=q.lastUpdatedKey;if(!k.canUpdateJsonString){l&&c!==l&&(a[c].jsonStringKey=m[c],keyInstance=a[c]);r.jumpTo(3);break}if(!V){a[c].jsonStringKey=m[c];keyInstance=a[c];r.jumpTo(4);break}return r.yield(I(n,function(b){a[c].jsonStringKey=b[c];keyInstance=a[c]}),4);case 4:d[t].canUpdateJsonString=
void 0;case 3:d[t].lastUpdatedKey=c,g[c]=void 0;case 2:return r["return"](keyInstance)}})}function L(){function h(a){R?N?(O.postMessage([a,R]),O.onmessage=function(a){return H(a.data)}):H(R?ia(a,R):a):H(a)}return $jscomp.asyncExecutePromiseGeneratorProgram(function(u){return u["return"](new Promise(function(f,u){var x,y;return $jscomp.asyncExecutePromiseGeneratorProgram(function(l){switch(l.nextAddress){case 1:H=H||f;P=P||u;""===m&&P('First load "DJM._LoadJSONFileAsync()"');p&&(c=p.swappedKey);K?
F=(a[c]=b[c]=void 0,""):b[c]&&""===F?(x=a[c]=b[c],b[c]=void 0):x=a[c];if(!x){B();l.jumpTo(2);break}if(x.isLoadingJsonFile)return setTimeout(function(){return L()},0),l["return"]();if(aa)return h(x.savedInfo.resultObject),l["return"]();if(x.savedInfo.requiredResult)if(""!==F)x.savedInfo.requiredResult=void 0;else return x.savedInfo.requiredResult.isRequired=(x.savedInfo.requiredResult.hasRequired=void 0,!0),q&&(x.savedInfo.requiredResult.responses=x.savedInfo.resultObject.responses),h(x.savedInfo.requiredResult),
l["return"]();a[c].reloaded=x.canPrepareReloaded?m[c]:void 0;if(!G||""!==F||!d[t].jsonStringKeyDone){B(x);l.jumpTo(2);break}if(Z){ha.postMessage([t,G,d[t]]);ha.onmessage=function(a){var b;return $jscomp.asyncExecutePromiseGeneratorProgram(function(c){return 1==c.nextAddress?(b=B,c.yield(k(a.data),2)):c["return"](b(c.yieldResult))})};l.jumpTo(4);break}y=B;return l.yield(k(fa(t,G,d[t])),5);case 5:y(l.yieldResult);case 4:d[t].jsonStringKeyDone=void 0;case 2:da.onmessage=function(f){var k=f.data,e=k.type;
f=k.data;k=k.swapKey;if("result"===e){e=f.savedInfo.resultObject;var l=f.jsonStringKey.length;if(e.isRepeatResponse){if(b[c]={},q&&(f.savedInfo.resultObject.responses=a[c].savedInfo.resultObject.responses),b[c]=f,!p){var r=b[c].canPrepareReloaded&&b[c].reloaded;b[c].canPrepareReloaded=1===l}}else a[c]=f,p?g[c]=k:(r=a[c].canPrepareReloaded&&a[c].reloaded,a[c].canPrepareReloaded=1===l);if(p)d[t].jsonStringKeyDone=k;else if(!r&&1>=l&&V){var u=0===l;b[c]?b[c].isLoadingJsonFile=!0:a[c].isLoadingJsonFile=
!0;I(n,function(d){u&&(b[c]?b[c].jsonStringKey=d[c]:a[c].jsonStringKey=d[c]);b[c]?b[c].isLoadingJsonFile=void 0:a[c].isLoadingJsonFile=void 0})}h(e)}else"recall"===e?(a[c]=f,k?(d[t].jsonStringKeyDone=g[c]=!0,L()):V?I(n,function(a){return W(a[c])}):W(m[c])):"exception"===e&&(k=f.savedInfo,r=k.resultObject,k=k.allNodesExcluded,a[c]=f,f=p&&k&&-1===d[t].lastKeyIndex,!p||!k||f&&A?P(r):(f&&(A=!0),d[t].jsonStringKeyDone=!0,L()))},l.jumpToEnd()}})}))})}c=void 0===c?"":c;var u=void 0===Q?{}:Q,F=void 0===u.response?
"":u.response,R=u.replaceTemplate,S=u.excludeTemplate,G=u.mergeTemplate,aa=void 0===u.lock?!1:u.lock,K=void 0===u.reset?!1:u.reset,H,P,p,t,A;return $jscomp.asyncExecutePromiseGeneratorProgram(function(a){p=d[c];G&&(void 0===p||K)&&(d[c]={},d[c].lastKeyIndex=-1,d[c].swappedKey=c,d[c].pendingReset=K,p=d[c]);t=c;return a["return"](L().then(function(a){return a})["catch"](function(a){throw Error(a);}))})};return{_LoadJSONFileAsync:I,_Run:ea,_RunDebounced:function(a){var b;return function(c,d){c=void 0===
c?"":c;var g=void 0===d?{}:d,h=void 0===g.waitTime?300:g.waitTime,m=void 0===g.response?"":g.response,n=g.replaceTemplate,q=g.excludeTemplate,B=g.mergeTemplate,G=void 0===g.lock?!1:g.lock,I=void 0===g.reset?!1:g.reset;return $jscomp.asyncExecutePromiseGeneratorProgram(function(d){clearTimeout(b);return d["return"](new Promise(function(d){b=setTimeout(function(){return d(a(c,{response:m,replaceTemplate:n,excludeTemplate:q,mergeTemplate:B,lock:G,reset:I}))},h)}))})}}(ea),_Settings:function(a){var b=
void 0===a.appendResponses?!1:a.appendResponses,c=void 0===a.replaceOnWorker?!1:a.replaceOnWorker,d=void 0===a.mergeOnWorker?!1:a.mergeOnWorker;V=void 0===a.isRefreshable?!0:a.isRefreshable;q=b;N=c;Z=d},_TemplateGenerator:ka,_IsJSONFileLoaded:""!==m}}();
